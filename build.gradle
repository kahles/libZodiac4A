buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.bmuschko:gradle-nexus-plugin:2.3.1'
    }
}

plugins {
    id 'com.gladed.androidgitversion' version '0.4.9'
    id 'java'
    id 'java-library'
    id 'io.codearte.nexus-staging' version '0.21.0'
}

apply plugin: 'com.bmuschko.nexus'

androidGitVersion {
    hideBranches = ['master','devel']
}

group = "de.kah2.zodiac"
version = androidGitVersion.name() + "-SNAPSHOT"

println "Version is: " + version

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    mavenCentral()
    /* For snapshots:
    maven {
        url =  'https://oss.sonatype.org/content/repositories/snapshots/'
    } */
}

dependencies {
    
	implementation 'org.slf4j:slf4j-api:1.7.26'
    testImplementation 'org.slf4j:slf4j-simple:1.7.26'
    
    // Removed, because actual version doesn't work for multi-threaded use
    // compile 'net.sourceforge.novaforjava:novaforjava:0.15.0.0'

    // my fixed fork: https://github.com/kahles/nova4jmt

    // local use
    // compile files('../nova4java/target/nova4jmt-0.15.0.1-SNAPSHOT.jar')

    // maven central snapshot (uncomment also above in repositories)
    //compile 'de.kah2.zodiac:nova4jmt:0.15.0.1-SNAPSHOT'

    // maven central releases
    implementation 'de.kah2.zodiac:nova4jmt:0.15.0.1'

    testImplementation 'junit:junit:4.12'
}

modifyPom {
    project {
        name = 'libZodiac'
        description = 'framework providing functionality for building a lunar calendar'
        url = 'https://github.com/kahles/libZodiac'

        scm {
            url = 'https://github.com/kahles/libZodiac/tree/master'
            connection = 'scm:git:git://github.com/kahles/libZodiac.git'
            developerConnection = 'scm:git:ssh://github.com/kahles/libZodiac.git'
        }

        licenses {
            license {
                name = 'GNU LESSER GENERAL PUBLIC LICENSE (LGPL) version 3'
                url = 'http://www.gnu.org/licenses/lgpl-3.0-standalone.html'
            }
        }

        developers {
            developer {
                id = 'kahles'
                name = 'Stephan Kahle'
                email = 'st-mvn@kah2.de'
                timezone = '+1'
            }
        }
    }
}

// FIXME DEPRECATION WARNING. The staging repository ID is not provided. The fallback mode may impact release reliability and is deprecated. Please consult the project FAQ how it can be fixed.
